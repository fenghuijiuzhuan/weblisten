<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <base href="http://127.0.0.1:5500/">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="src/static/css/common/base.css">
  <link rel="stylesheet" href="frame/layui/css/layui.css"  media="all">
  <link rel="stylesheet" href="src/static/css/common/comm.css">
  <!-- <link rel="stylesheet" type="text/css" href="src/static/font/iconfont.css"> -->
  <link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_912067_7u2s2dvgjf2.css">
  <script src="lib/require-2.1.11.min.js"></script>
  <script src="frame/echarts-2.2.7/dist/echarts.js"></script>
</head>
<body>
  <!-- 哎呀 什么都没有 -->

<script>
require(['src/config/require.config.js'], function () {

  require([
     'jquery',
     'layui',
     'body',
     'bread',
     'search',
     'bodytitle',
     'panel',
     'echarts/echarts',
     'echarts/chart/bar',
    //  '/testdata'
    ], function ( $1, $2, body, bread, search, bodytitle, panel, ec) {
    // main body
    var bod = body.create().appendTo($('body'));
    bod.eq(1).css({
      top: 0, 
      left: 0,
      bottom: 0
    })
    var main = bod.find('.wping-bodymain');
    var content = bod.find('.wping-bodycontent');
    
    // bread
    bread.create(bod, [{title: '全媒体采编',}, {title: '已签发平台',}])

    // search-from
    // search.create(main)
    bodytitle.create(content, {title: '互动访谈'})

var zdfwpanelParam = {
      title: '扣分情况',
      body: "<div ><center><p style='font-size:22px'></p></center><center><p style='font-size:42px'>-5&nbsp;分</p></center></div>",
    }
    panel.create(content, zdfwpanelParam, function(dom){
    	dom.css({
    		display: 'inline-block',
    		'vertical-align': 'top',
    		width: '30%',
    		height:'200px',
				color:'#fb3f00',
				//font-size: '18px',
        //text-align: 'center,
    	})
    })
    
     var kcdpanelParam = {
      title: '考察点',
      body: '<div><p>互动访谈开展情况。</p></div>',
    }
    panel.create(content, kcdpanelParam, function(dom){
    	dom.css({
    		display: 'inline-block',
    		'vertical-align': 'top',
    		width: '30%',
    		height:'200px'
    	})
    })
    
    var kcbzpanelParam = {
      title: '考核标准',
      body: '<div><p>开设了栏目，但栏目不可用或监测时间点前1年内未开展互动访谈活动的，扣5分。</p></div>',
    }
    panel.create(content, kcbzpanelParam, function(dom){
    	dom.css({
    		display: 'inline-block',
    		'vertical-align': 'top',
    		width: '30%',
    		height:'200px'
    	})
    })


    var panelParam = {
      title: '扣分情况分析',
      body: '<div class="main-chart"></div>',
    }
    panel.create(content, panelParam, function (dom) {
      var div = dom.find('.main-chart')
      div.height(400);
      var myChart = ec.init(div[0]);
      var option = {
        tooltip: {
            show: true
        },
        legend: {
            data:['近一年互动访谈次数']
        },
        xAxis : [
            {
                type : 'category',
                data : ["在线访谈"]
            }
        ],
        yAxis : [
            {
                type : 'value'
            }
        ],
        series : [
            {
                "name":"更新条数",
                "type":"bar",
                "data":[1]
            }
        ]
      };
      myChart.setOption(option);
    })

    // table
    var panelTable = {
      body: '<div class="main-table"><div></div></div>'
    }
    panel.create(content, panelTable, function (dom) {
      var div = dom.find('.main-table div');
      layui.use('table', function(){
        var table = layui.table;
        
        //第一个实例
        table.render({
          elem: div,
          height: 312,
          url: '/testdata/zonghepingfen/hudonghuiyingqingkuang/hudongfangtan.json', //数据接口
          page: true, //开启分页
          cols: [[ //表头
            {field: 'id', title: '序号', width:"10%", sort: true},
            {field: 'time', title: '互动时间',sort: true,width:"20%"},
            {field: 'kind', title: '所属栏目', width:"20%", sort: true},
            {field: 'title', title: '标题',width:""}
          ]]
        });
      });
    })


  });
  
})


</script>
</body>
</html>