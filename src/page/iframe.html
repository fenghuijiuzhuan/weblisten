<!DOCTYPE html>
<html lang="en">
<head>
  <title>Document</title>
  <script src="/lib/require-2.1.11.min.js"></script>
  <script src="/frame/echarts-2.2.7/dist/echarts.js"></script>
</head>
<body>


<script>
require(['/src/config/require.config.js'], function () {
  require([
     'jquery',
     'layui',
     'body',
     'bread',
     'search',
     'bodytitle',
     'panel',
     'echarts/echarts',
     'echarts/chart/bar',
    //  '/testdata'
    ], function ( $1, $2, body, bread, search, bodytitle, panel, ec) {
    // main body
    var bod = body.create().appendTo($('body'));
    bod.eq(1).css({
      top: 0, 
      left: 0,
      bottom: 0
    })
    var main = bod.find('.wping-bodymain');
    var content = bod.find('.wping-bodycontent');
    
    // bread
    var btnAggr = [
      {name: 'INDEXAGGR', text: '首页组版'},
      {name: 'ADD', text: '新闻', color: 'layui-btn-normal'},
      {name: 'ADD', text: '文件', color: 'layui-btn-normal'},
      {name: 'ADD', text: '公报', color: 'layui-btn-normal'},
      {name: 'EDIT', text: '编辑平台'},
      {name: 'WAIT', text: '待审核', color: 'layui-btn-danger'},
      {name: 'WAIT', text: '待签发', color: 'layui-btn-danger'},
      {name: 'DEL', text: '回收站', color: 'layui-btn-primary'},
      {name: 'RELOAD', text: '', color: 'layui-btn-primary'}
    ]
    bread.create(bod, [{title: '全媒体采编',}, {title: '已签发平台',}], btnAggr)

    // search-from
    search.create(main)

    var bodyTitleData = {
      title: '首页更新'
    }
    bodytitle.create(content, bodyTitleData)

    var panelParam = {
      title: '标题标题',
      body: '<div class="main-chart"></div>',
    }
    panel.create(content, panelParam, function (dom) {
      var div = dom.find('.main-chart')
      div.height(400);
      var myChart = ec.init(div[0]);
      var option = {
        tooltip: {
            show: true
        },
        legend: {
            data:['销量']
        },
        xAxis : [
            {
                type : 'category',
                data : ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
            }
        ],
        yAxis : [
            {
                type : 'value'
            }
        ],
        series : [
            {
                "name":"销量",
                "type":"bar",
                "data":[5, 20, 40, 10, 10, 20]
            }
        ]
      };
      myChart.setOption(option);
    })

    // table
    var panelTable = {
      body: '<div class="main-table"><div></div></div>'
    }
    panel.create(content, panelTable, function (dom) {
      var div = dom.find('.main-table div');
      layui.use('table', function(){
        var table = layui.table;
        
        //第一个实例
        table.render({
          elem: div,
          height: 312,
          url: '/testdata/demo.json', //数据接口
          page: true, //开启分页
          cols: [[ //表头
            {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left'},
            {field: 'username', title: '用户名', width:80},
            {field: 'sex', title: '性别', width:80, sort: true},
            {field: 'city', title: '城市', width:80},
            {field: 'sign', title: '签名', width: 177},
            {field: 'experience', title: '积分', width: 80, sort: true},
            {field: 'score', title: '评分', width: 80, sort: true},
            {field: 'classify', title: '职业', width: 80},
            {field: 'wealth', title: '财富', width: 135, sort: true}
          ]]
        });
      });
    })


  });
  
})


</script>
</body>
</html>